Rekord.live=function(){function e(e){return e in r?r[e]:r[e]=new PubSub(e)}function o(o){function r(e){Rekord.forceOffline||(e.op===n&&o.liveSave(e.key,e.model),e.op===u&&o.liveRemove(e.key))}if(!o.pubsub||!o.channel||!o.token)return{save:Rekord.noop,remove:Rekord.noop};var i=e(o.pubsub),f=i.subscribe(o.channel,o.token);return Rekord.debug(Rekord.Debugs.PUBSUB_CREATED,i),f.onpublish=r,{channel:f,pubsub:i,save:function(e,o){Rekord.forceOffline||f.publish({op:n,key:e.$key(),model:o})},remove:function(e){Rekord.forceOffline||f.publish({op:u,key:e.$key()})}}}var n=1,u=2,r={};return o}();
//# sourceMappingURL=rekord-pubsub.min.js.map
