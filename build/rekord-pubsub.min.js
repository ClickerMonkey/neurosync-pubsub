/* rekord-pubsub 1.4.1 - A rekord binding to pubsub - implementing Rekord.live by Philip Diffenderfer */
!function(e,n,o){function u(e){return e in r?r[e]:r[e]=new o(e)}function i(e){function o(o){n.forceOffline||(o.op===f&&e.liveSave(o.key,o.model),o.op===b&&e.liveRemove(o.key))}if(!e.pubsub||!e.channel||!e.token)return{save:n.noop,remove:n.noop};var i=u(e.pubsub),r=i.subscribe(e.channel,e.token);return n.debug(n.Debugs.PUBSUB_CREATED,i),r.onpublish=o,{channel:r,pubsub:i,save:function(e,o){n.forceOffline||r.publish({op:f,key:e.$key(),model:o})},remove:function(e){n.forceOffline||r.publish({op:b,key:e.$key()})}}}var f=1,b=2,r={};n.setLive(i,!0)}(this,this.Rekord,this.PubSub);
//# sourceMappingURL=rekord-pubsub.min.js.map
